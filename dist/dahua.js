(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var prefix="d",Directive=require("./Directive"),Watcher=require("./Watcher"),Dep=require("./Dep"),Compile=function(){function a(b,c){_classCallCheck(this,a),this.vm=b,this.parseNode(c,!0)}return _createClass(a,[{key:"parseNode",value:function parseNode(a,b){var c=this;return 3===a.nodeType?this.parseTextNode(a):void(!b&&this.cloneAttribute(a.attributes).forEach(function(b){/^d-/.test(b.name)&&c.bindDirective(a,b)}),Array.prototype.forEach.call(a.childNodes,function(a){c.parseNode(a)}))}},{key:"parseTextNode",value:function parseTextNode(a){var b=a.wholeText,c=/\{\{(.*?)\}\}/g,d=c.exec(b);if(d){var e=d[1],f=Directive.text;f&&f.call(Directive,a,this.vm,e)}}},{key:"cloneAttribute",value:function cloneAttribute(a){return Array.prototype.map.call(a,function(a){return{name:a.name,value:a.value}})}},{key:"bindDirective",value:function bindDirective(a,b){var c=b.name,d=b.value,e=c.slice(prefix.length+1),f=d.indexOf("|"),g=-1===f?d.trim():d.slice(0,f).trim(),h=-1===f?[]:d.slice(f).split("|").map(function(a){return a.trim()}),i=Directive[e];i&&i.call(Directive,a,this.vm,g)}}]),a}();module.exports=Compile;

},{"./Dep":2,"./Directive":3,"./Watcher":5}],2:[function(require,module,exports){
"use strict";var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var Dep=function(){function a(){_classCallCheck(this,a),this.$watchers=[]}return _createClass(a,[{key:"add",value:function add(a){this.$watchers.push(a)}},{key:"notify",value:function notify(){this.$watchers.forEach(function(a){a.update()})}}]),a}();Dep.target=null,module.exports=Dep;

},{}],3:[function(require,module,exports){
"use strict";var Watcher=require("./Watcher"),Directive={text:function text(a,b,c){this.bind(a,b,c)},bind:function bind(a,b,c){updater(a,b[c]),new Watcher(a,b,c,function(b){updater(a,b)})}};module.exports=Directive;function updater(a,b){a.textContent=b}

},{"./Watcher":5}],4:[function(require,module,exports){
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var Dep=require("./Dep"),Observer=function a(b){_classCallCheck(this,a),observe(b)};module.exports=Observer;function observe(a){a&&"object"===("undefined"==typeof a?"undefined":_typeof(a))&&Object.keys(a).forEach(function(b){defineReactive(a,b,a[b])})}function defineReactive(a,b,c){var d=new Dep;observe(c),Object.defineProperty(a,b,{enumerable:!0,get:function get(){return Dep.target&&d.add(Dep.target),c},set:function set(a){c=a,d.notify()}})}

},{"./Dep":2}],5:[function(require,module,exports){
"use strict";var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var Dep=require("./Dep"),Watcher=function(){function a(b,c,d,e){_classCallCheck(this,a),this.node=b,this.vm=c,this.exp=d,this.cb=e,this.value=this.get()}return _createClass(a,[{key:"update",value:function update(){this.run()}},{key:"run",value:function run(){var a=this.get();this.cb.call(this.vm,a)}},{key:"get",value:function get(){Dep.target=this;var a=this.vm[this.exp];return Dep.target=null,a}}]),a}();module.exports=Watcher;

},{"./Dep":2}],6:[function(require,module,exports){
"use strict";var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var Observer=require("./Observer"),Compile=require("./Compile"),Dahua=function(){function a(b){_classCallCheck(this,a),this.$el=document.querySelector(b.el),this.$data=b.data,this.proxy(),this.init()}return _createClass(a,[{key:"init",value:function init(){this.observe(),this.compile()}},{key:"proxy",value:function proxy(){var a=this;Object.keys(this.$data).forEach(function(b){Object.defineProperty(a,b,{get:function get(){return this.$data[b]},set:function set(a){this.$data[b]=a}})})}},{key:"observe",value:function observe(){this.$observer=new Observer(this.$data)}},{key:"compile",value:function compile(){this.$compile=new Compile(this,this.$el)}}]),a}();window.Dahua=Dahua;

},{"./Compile":1,"./Observer":4}]},{},[6]);
